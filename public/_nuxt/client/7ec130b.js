(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{352:function(t,e,r){"use strict";var n={name:"NormalDialog",data:function(){return{dialog:!1,message:null,title:null,options:{width:400,zIndex:200,noconfirm:!1}}},methods:{open:function(title,t){this.dialog=!0,this.title=title,this.message=t}}},o=r(75),c=r(113),l=r.n(c),v=r(199),d=r(351),f=r(350),m=r(369),h=r(347),O=r(34),_=r(186),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{persistent:"","max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dense:"",flat:""}},[r("v-toolbar-title",[t._v("\n        "+t._s(t.title)+"\n      ")])],1),t._v(" "),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"mt-2"},[t._v("\n      "+t._s(t.message)+"\n    ")]),t._v(" "),r("v-card-actions",{staticClass:"pt-3"},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",outlined:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("\n        Aceptar\n      ")]),t._v(" "),r("v-spacer")],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VBtn:v.a,VCard:d.a,VCardActions:f.a,VCardText:f.b,VDialog:m.a,VSpacer:h.a,VToolbar:O.a,VToolbarTitle:_.b})},355:function(t,e,r){"use strict";var n=r(2),o=r(59);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var l={computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({loading:"getLoading"}))},v=r(75),d=r(113),f=r.n(d),m=r(181),h=r(174),component=Object(v.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("v-overlay",{attrs:{absolute:"","z-index":"1000",value:this.loading}},[e("v-progress-circular",{staticClass:"mb-4",attrs:{indeterminate:"",size:"64"}}),this._v(" "),e("br"),this._v("\n    Espere un momento ....\n  ")],1)],1)}),[],!1,null,null,null);e.a=component.exports;f()(component,{VOverlay:m.a,VProgressCircular:h.a})},357:function(t,e,r){},364:function(t,e,r){"use strict";r(14);var n=r(2),o=(r(357),r(0)),c=r(15),l=r(6);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(l.a)(c.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(o.g)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},367:function(t,e,r){},370:function(t,e,r){"use strict";r(367)},374:function(t,e,r){"use strict";r.r(e);r(35);var n=r(2),o=r(59),c=r(352),l=r(355);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var d={components:{cmpNormalDialog:c.a,cmpLoadingOverlay:l.a},fetch:function(){var t=this;this.$store.dispatch("cargaActivosAlta",this.alta.id).then((function(){})).catch((function(e){t.$refs.myAlert.open("Error","Error al rescatar los datos \n"+e)}))},data:function(){return{search:"",btnDisabled:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({activos:"getActivos",loading:"getLoading",alta:"getAltaSeleccionada"})),methods:{deleteItem:function(t){var e=this;this.$store.dispatch("quitaAsignacionActivoAlta",t).then((function(){e.$refs.myAlert.open("Confirmación","Activo quitado."),e.$store.dispatch("deleteActivoFromListAlta",t)})).catch((function(t){alert("Ha ocurrido un error al quitar el activo. \n"+t)}))},updateData:function(){this.$fetch(),this.btnDisabled=!0,setTimeout((function(){this.btnDisabled=!1}),6e4)},clicked:function(t){this.$store.dispatch("actionSetFuncionarioSeleccionado",t),console.log("DATOS FUNCIONARIO SELECCIONADO"),console.log(t),this.$emit("cierra-dialogo")}}},f=(r(370),r(75)),m=r(113),h=r.n(m),O=r(199),_=r(351),y=r(175),j=r(364),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-card",[t.activos.length>0?r("div",[t.loading?r("div",[t._v("\n        Cargando, espere por favor ...\n      ")]):r("v-simple-table",{on:{"click:row":t.clicked},scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[t._v("\n                N° Inventario\n              ")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("\n                Nombre Activo\n              ")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("\n                Tipo\n              ")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("\n                Borrar\n              ")])])]),t._v(" "),r("tbody",t._l(t.activos,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(e.inventario))]),t._v(" "),r("td",[t._v(t._s(e.nombre))]),t._v(" "),r("td",[t._v(t._s(e.tipo))]),t._v(" "),r("td",[r("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(r){return t.deleteItem(e.id)}}},[r("v-icon",{attrs:{dark:""}},[t._v("\n                    mdi-delete\n                  ")])],1)],1)])})),0)]},proxy:!0}],null,!1,1773810294)})],1):r("p",[t._v("\n      Alta no tiene activos asignados\n    ")])]),t._v(" "),r("cmp-normal-dialog",{ref:"myAlert"}),t._v(" "),r("cmp-loading-overlay")],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:O.a,VCard:_.a,VIcon:y.a,VSimpleTable:j.a})},396:function(t,e,r){"use strict";r.r(e);var n={components:{cmpTableActivosAlta:r(374).default}},o=r(75),c=r(113),l=r.n(c),v=r(497),d=r(498),f=r(499),m=r(500),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-expansion-panels",[e("v-expansion-panel",[e("v-expansion-panel-header",[this._v("Activos de alta")]),this._v(" "),e("v-expansion-panel-content",[e("cmp-table-activos-alta")],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VExpansionPanel:v.a,VExpansionPanelContent:d.a,VExpansionPanelHeader:f.a,VExpansionPanels:m.a})},416:function(t,e,r){},488:function(t,e,r){"use strict";r(416)},515:function(t,e,r){"use strict";r.r(e);r(27);var n=r(4),o=r(2),c=r(59),l=r(396),v=r(355),d=r(352);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{cmpActivosAlta:l.default,cmpLoadingOverlay:v.a,cmpNormalDialog:d.a},data:function(){return{edit:!1,numeroFixLater:""}},computed:m(m({},Object(c.c)({alta:"getAltaSeleccionada"})),{},{numeroActual:{get:function(){return"Borrador"===this.alta.numero?"":this.alta.numero},set:function(t){this.numeroFixLater=t}}}),methods:{saveData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=""===t.numeroFixLater?"Borrador":t.numeroFixLater,e.next=3,t.$store.dispatch("grabaEdicionFichaAlta",{id:t.alta.id,numero:r}).then((function(){t.$refs.myAlert.open("Confirmación","Datos guardados correctamente."),t.$store.dispatch("changeNumeroAltaSeleccionada",r),t.edit=!1})).catch((function(){t.$refs.myAlert.open("ERROR","Error al guardar los datos.")}));case 3:case"end":return e.stop()}}),e)})))()}}},O=(r(488),r(75)),_=r(113),y=r.n(_),j=r(199),w=r(351),x=r(350),C=r(341),A=r(175),P=r(346),k=r(435),component=Object(O.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-row",[r("v-col",[r("v-btn",{staticClass:"ml-8",attrs:{fab:"",dark:"",large:"",color:"primary",to:"/altas/"}},[r("v-icon",{attrs:{dark:""}},[t._v("\n          mdi-arrow-left\n        ")])],1)],1)],1),t._v(" "),r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[r("transition",{attrs:{name:"flip"}},[t.edit?r("v-card",{key:"2",staticClass:"pa-5"},[r("v-card-title",{staticClass:"headline d-flex justify-space-between"},[r("div",[t._v("Editar Ficha Alta")])]),t._v(" "),r("v-card-text",[r("v-row",{staticClass:"d-flex align-center"},[r("v-col",[t._v("Numero")]),t._v(" "),r("v-col",{attrs:{sm:"8"}},[r("v-text-field",{model:{value:t.numeroActual,callback:function(e){t.numeroActual=e},expression:"numeroActual"}})],1)],1),t._v(" "),r("v-row",{staticClass:"d-flex align-center"},[r("v-col",[t._v("Fecha")]),t._v(" "),r("v-col",{attrs:{sm:"8"}},[t._v("\n                "+t._s(t.alta.fecha)+"\n              ")])],1),t._v(" "),r("v-row",{staticClass:"d-flex align-center"},[r("v-col",[t._v("Firmantes")]),t._v(" "),r("v-col",{attrs:{sm:"8"}},[t._v("\n                "+t._s(t.alta.firmantes)+"\n              ")])],1)],1),t._v(" "),r("v-card-actions",[r("v-row",{staticClass:"mt-4",attrs:{align:"center",justify:"space-around"}},[r("v-btn",{on:{click:function(e){t.edit=!1}}},[t._v("\n                Cancelar\n              ")]),t._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:t.saveData}},[t._v("\n                Grabar\n              ")])],1)],1)],1):r("v-card",{key:"1",staticClass:"pa-5"},[r("v-card-title",{staticClass:"headline d-flex justify-space-between"},[r("div",[t._v("Ficha Alta")]),t._v(" "),r("div",[r("v-btn",{attrs:{color:"primary",fab:"",dark:""},on:{click:function(e){t.edit=!0}}},[r("v-icon",[t._v("mdi-pencil")])],1)],1)]),t._v(" "),r("v-card-text",[r("v-row",[r("v-col",[t._v("Numero")]),t._v(" "),r("v-col",[t._v(t._s(t.alta.numero))])],1),t._v(" "),r("v-row",[r("v-col",[t._v("Fecha")]),t._v(" "),r("v-col",[t._v(t._s(t.alta.fecha))])],1),t._v(" "),r("v-row",[r("v-col",[t._v("Firmantes")]),t._v(" "),r("v-col",[t._v(t._s(t.alta.firmantes))])],1)],1)],1)],1)],1)],1),t._v(" "),r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{sm:"8"}},[r("cmp-activos-alta")],1)],1),t._v(" "),r("cmp-loading-overlay"),t._v(" "),r("cmp-normal-dialog",{ref:"myAlert"})],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBtn:j.a,VCard:w.a,VCardActions:x.a,VCardText:x.b,VCardTitle:x.c,VCol:C.a,VIcon:A.a,VRow:P.a,VTextField:k.a})}}]);